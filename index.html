<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<title>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å–µ—Ç–∫–∞ 11√ó11</title>
<style>
  body {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    background: #111827;
    color: #e5e7eb;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 16px;
  }
  h1 {
    font-size: 20px;
    margin-bottom: 8px;
  }
  .wrapper {
    display: flex;
    gap: 24px;
    flex-wrap: wrap;
    justify-content: center;
    align-items: flex-start;
    width: 100%;
    max-width: 900px;
  }
  table {
    border-collapse: collapse;
    background: #030712;
    box-shadow: 0 0 20px rgba(0,0,0,0.6);
  }
  th, td {
    border: 1px solid #1f2937;
    text-align: center;
    width: 32px;
    height: 32px;
    padding: 0;
    font-size: 12px;
    user-select: none;
  }
  th {
    background: #111827;
    color: #9ca3af;
    font-weight: 500;
  }
  td.cell {
    background: #020617;
    cursor: pointer;
    transition: transform 0.05s ease, box-shadow 0.05s ease, background 0.1s ease;
  }
  td.cell:hover {
    transform: scale(1.05);
    box-shadow: 0 0 6px rgba(148,163,184,0.7);
    z-index: 1;
  }

  /* –ù–û–í–´–ï –¶–í–ï–¢–ê */
  .color-orange { background: #f97316 !important; } /* –æ—Ä–∞–Ω–∂–µ–≤—ã–π */
  .color-blue   { background: #3b82f6 !important; } /* —Å–∏–Ω–∏–π */
  .color-green  { background: #22c55e !important; } /* –∑–µ–ª—ë–Ω—ã–π */
  .color-gray   { background: #6b7280 !important; } /* —Å–µ—Ä—ã–π */

  .hidden-cell {
    background: transparent !important;
    border-color: transparent !important;
  }

  .panel {
    display: flex;
    flex-direction: column;
    gap: 8px;
    max-width: 260px;
  }

  .size-controls {
    display: flex;
    flex-direction: column;
    gap: 6px;
    margin-bottom: 6px;
  }
  .size-controls label {
    font-size: 11px;
    color: #9ca3af;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 6px;
  }
  .size-controls input {
    width: 70px;
    background: #020617;
    border-radius: 6px;
    border: 1px solid #1f2937;
    color: #e5e7eb;
    padding: 2px 6px;
    font-size: 12px;
  }

  button {
    border-radius: 999px;
    border: none;
    padding: 8px 12px;
    font-size: 13px;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 6px;
    background: #111827;
    color: #e5e7eb;
    border: 1px solid #1f2937;
    transition: background 0.1s ease, transform 0.05s ease, box-shadow 0.05s ease;
  }
  button:active {
    transform: translateY(1px) scale(0.99);
  }

  .small {
    font-size: 11px;
    color: #9ca3af;
    line-height: 1.4;
  }

  #export-output {
    width: 100%;
    min-height: 140px;
    background: #020617;
    border-radius: 8px;
    border: 1px solid #1f2937;
    padding: 8px;
    font-size: 11px;
    color: #e5e7eb;
    resize: vertical;
    box-sizing: border-box;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  }
  #export-label {
    font-size: 11px;
    color: #9ca3af;
    margin-top: 4px;
  }
</style>
</head>
<body>
<h1>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å–µ—Ç–∫–∞</h1>
<p class="small">
  –©—ë–ª–∫–∞–π –ø–æ –∫–ª–µ—Ç–∫–∞–º, —á—Ç–æ–±—ã —Ü–∏–∫–ª–æ–º –º–µ–Ω—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ:<br>
  –ø—É—Å—Ç–∞—è ‚Üí –æ—Ä–∞–Ω–∂–µ–≤–∞—è ‚Üí —Å–∏–Ω—è—è ‚Üí –∑–µ–ª—ë–Ω–∞—è ‚Üí —Å–µ—Ä–∞—è ‚Üí –Ω–µ–≤–∏–¥–∏–º–∞—è ‚Üí –ø—É—Å—Ç–∞—è.
</p>
<div class="wrapper">
  <div>
    <table id="grid"></table>
  </div>
  <div class="panel">
    <div class="size-controls">
      <label>
        –°—Ç–æ–ª–±—Ü—ã (A‚Ä¶):
        <input type="number" id="cols-input" min="1" max="26" value="11">
      </label>
      <label>
        –°—Ç—Ä–æ–∫–∏ (1‚Ä¶):
        <input type="number" id="rows-input" min="1" max="26" value="11">
      </label>
      <button id="apply-size">‚ôª –û–±–Ω–æ–≤–∏—Ç—å —Ä–∞–∑–º–µ—Ä</button>
    </div>

    <button id="clear-all">üßπ –û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë</button>
    <button id="export">üì§ –≠–∫—Å–ø–æ—Ä—Ç</button>

    <p class="small">
      –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–∞–∫ –≤ —à–∞—Ö–º–∞—Ç–∞—Ö: —Å—Ç–æ–ª–±—Ü—ã A‚Äì‚Ä¶, —Å—Ç—Ä–æ–∫–∏ 1‚Äì‚Ä¶<br />
      –ü–æ–¥—Å–∫–∞–∑–∫–∞: –Ω–∞–≤–µ–¥–∏—Ç–µ –∫—É—Ä—Å–æ—Ä –Ω–∞ –∫–ª–µ—Ç–∫—É, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –µ—ë –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã.
    </p>
    <div>
      <div id="export-label">–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–∫–æ–ø–∏—Ä—É–π –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–π –≤ —á–∞—Ç):</div>
      <textarea id="export-output" readonly></textarea>
    </div>
  </div>
</div>

<script>
  // –¢–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–æ–ª–±—Ü–æ–≤ / —Å—Ç—Ä–æ–∫
  let COL_COUNT = 11;
  let ROW_COUNT = 11;

  const table = document.getElementById("grid");
  const colsInput = document.getElementById("cols-input");
  const rowsInput = document.getElementById("rows-input");

  const stateClasses = [
    null,            // 0 ‚Äì –ø—É—Å—Ç–æ
    "color-orange",  // 1 ‚Äì –æ—Ä–∞–Ω–∂–µ–≤—ã–π
    "color-blue",    // 2 ‚Äì —Å–∏–Ω–∏–π
    "color-green",   // 3 ‚Äì –∑–µ–ª—ë–Ω—ã–π
    "color-gray",    // 4 ‚Äì —Å–µ—Ä—ã–π
    "hidden-cell"    // 5 ‚Äì –Ω–µ–≤–∏–¥–∏–º–∞—è
  ];

  const stateNames = [
    null,
    "orange",
    "blue",
    "green",
    "gray",
    "hidden"
  ];

  // –§—É–Ω–∫—Ü–∏—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Å–µ—Ç–∫–∏
  function buildGrid() {
    // –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –º–∞—Å—Å–∏–≤—ã —Å—Ç–æ–ª–±—Ü–æ–≤ –∏ —Å—Ç—Ä–æ–∫
    const cols = Array.from(
      { length: COL_COUNT },
      (_, i) => String.fromCharCode("A".charCodeAt(0) + i)
    );
    const rows = Array.from({ length: ROW_COUNT }, (_, i) => i + 1);

    // –æ—á–∏—â–∞–µ–º —Ç–∞–±–ª–∏—Ü—É
    table.innerHTML = "";

    // –∑–∞–≥–æ–ª–æ–≤–æ–∫
    const headerRow = document.createElement("tr");
    const cornerTh = document.createElement("th");
    cornerTh.textContent = "";
    headerRow.appendChild(cornerTh);

    cols.forEach(c => {
      const th = document.createElement("th");
      th.textContent = c;
      headerRow.appendChild(th);
    });
    table.appendChild(headerRow);

    // —Å—Ç—Ä–æ–∫–∏ (—Ä—è–¥—ã –æ—Ç max –∫ min, –∫–∞–∫ –≤ —à–∞—Ö–º–∞—Ç–∞—Ö)
    rows.slice().reverse().forEach(r => {
      const tr = document.createElement("tr");
      const th = document.createElement("th");
      th.textContent = r;
      tr.appendChild(th);

      cols.forEach(c => {
        const td = document.createElement("td");
        td.classList.add("cell");
        td.dataset.col = c;
        td.dataset.row = r;
        td.title = c + r;
        td.dataset.state = "0";
        tr.appendChild(td);
      });

      table.appendChild(tr);
    });

    // –æ—á–∏—â–∞–µ–º —Ç–µ–∫—Å—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞, —Ç.–∫. —Å–µ—Ç–∫–∞ –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω–∞
    document.getElementById("export-output").value = "";
  }

  // –ö–ª–∏–∫ –ø–æ –∫–ª–µ—Ç–∫–µ ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
  table.addEventListener("click", (e) => {
    if (!e.target.classList.contains("cell")) return;
    const cell = e.target;

    let state = parseInt(cell.dataset.state || "0", 10);
    if (stateClasses[state]) {
      cell.classList.remove(stateClasses[state]);
    }

    state = (state + 1) % stateClasses.length;
    cell.dataset.state = String(state);

    if (stateClasses[state]) {
      cell.classList.add(stateClasses[state]);
    }
  });

  // –û—á–∏—Å—Ç–∫–∞
  document.getElementById("clear-all").addEventListener("click", () => {
    document.querySelectorAll("td.cell").forEach(cell => {
      const state = parseInt(cell.dataset.state || "0", 10);
      if (stateClasses[state]) {
        cell.classList.remove(stateClasses[state]);
      }
      cell.dataset.state = "0";
    });
    document.getElementById("export-output").value = "";
  });

  // –≠–∫—Å–ø–æ—Ä—Ç
  document.getElementById("export").addEventListener("click", () => {
    const lines = [];
    document.querySelectorAll("td.cell").forEach(cell => {
      const state = parseInt(cell.dataset.state || "0", 10);
      const type = stateNames[state];
      if (type) {
        const coord = cell.dataset.col + cell.dataset.row;
        lines.push(coord + "," + type);
      }
    });

    const text = lines.join("\n");
    const out = document.getElementById("export-output");
    out.value = text;

    if (navigator.clipboard && text) {
      navigator.clipboard.writeText(text).catch(() => {});
    }
  });

  // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –ø–æ –∫–Ω–æ–ø–∫–µ
  document.getElementById("apply-size").addEventListener("click", () => {
    let newCols = parseInt(colsInput.value, 10);
    let newRows = parseInt(rowsInput.value, 10);

    if (isNaN(newCols)) newCols = 11;
    if (isNaN(newRows)) newRows = 11;

    // –æ–≥—Ä–∞–Ω–∏—á–∏–º —Ä–∞–∑—É–º–Ω—ã–º–∏ —Ä–∞–º–∫–∞–º–∏
    newCols = Math.min(Math.max(newCols, 1), 26);
    newRows = Math.min(Math.max(newRows, 1), 26);

    COL_COUNT = newCols;
    ROW_COUNT = newRows;

    colsInput.value = COL_COUNT;
    rowsInput.value = ROW_COUNT;

    buildGrid();
  });

  // –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞
  buildGrid();
</script>
</body>
</html>
